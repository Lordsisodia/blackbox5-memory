# TASK-1769799720: Create Missing BMAD Workflow YAML Files

**Status:** completed
**Priority:** HIGH
**Created:** 2026-01-31T02:02:00Z
**Agent:** Agent-2.3
**Project:** RALF-CORE
**Generated By:** gap-analysis

---

## Objective

Create the missing BMAD workflow YAML files that are defined in `routes.yaml` but don't exist in the `workflows/` directory. The routes.yaml defines 30+ workflows, but the workflows directory is completely empty.

## Success Criteria

- [x] All workflows defined in routes.yaml have corresponding YAML files
- [x] Each workflow follows the TEMPLATE.md structure
- [x] Workflows include step definitions, WIP tracking, and APC menu options
- [x] Workflow loader can successfully load all workflows
- [x] Integration tests pass (validated against routes.yaml)

## Context

### Gap Analysis Results

**Critical Gap Identified:** The `workflows/` directory is completely empty (0 YAML files), but `routes.yaml` defines 30+ workflows that should exist.

**Impact:**
- BMAD commands (CP, VP, EP, etc.) map to workflows that don't exist
- Skills reference workflows that can't be loaded
- The BMAD system is incomplete and non-functional

**Existing Files:**
- `~/.blackbox5/2-engine/.autonomous/workflows/TEMPLATE.md` - Template for workflow structure
- `~/.blackbox5/2-engine/.autonomous/workflows/README.md` - Documentation
- `~/.blackbox5/2-engine/.autonomous/routes.yaml` - Defines all required workflows

**Required Workflows (from routes.yaml):**

| Command | Skill | Workflow File | Description |
|---------|-------|---------------|-------------|
| CP | bmad-pm | create-prd.yaml | Create PRD |
| VP | bmad-pm | validate-prd.yaml | Validate PRD |
| EP | bmad-pm | edit-prd.yaml | Edit PRD |
| CE | bmad-pm | create-epics.yaml | Create Epics |
| CA | bmad-architect | create-architecture.yaml | Create Architecture |
| VA | bmad-architect | validate-architecture.yaml | Validate Architecture |
| EA | bmad-architect | edit-architecture.yaml | Edit Architecture |
| BP | bmad-analyst | brainstorm-project.yaml | Brainstorm Project |
| RS | bmad-analyst | research.yaml | Research |
| CB | bmad-analyst | create-brief.yaml | Create Brief |
| DP | bmad-analyst | document-project.yaml | Document Project |
| SP | bmad-sm | sprint-planning.yaml | Sprint Planning |
| CS | bmad-sm | create-story.yaml | Create Story |
| ER | bmad-sm | epic-retrospective.yaml | Epic Retrospective |
| CU | bmad-ux | create-ux.yaml | Create UX |
| VU | bmad-ux | validate-ux.yaml | Validate UX |
| EU | bmad-ux | edit-ux.yaml | Edit UX |
| DS | bmad-dev | dev-story.yaml | Dev Story |
| CR | bmad-dev | code-review.yaml | Code Review |
| QA | bmad-qa | automate-tests.yaml | Automate Tests |
| VT | bmad-qa | validate-tests.yaml | Validate Tests |
| RT | bmad-qa | run-tests.yaml | Run Tests |
| TA | bmad-tea | test-architecture.yaml | Test Architecture |
| TT | bmad-tea | test-plan.yaml | Test Plan |
| TV | bmad-tea | validate-test-coverage.yaml | Validate Test Coverage |
| TR | bmad-tea | test-review.yaml | Test Review |
| TS | bmad-quick-flow | tech-spec.yaml | Tech Spec |
| QD | bmad-quick-flow | quick-dev.yaml | Quick Dev |
| IR | bmad-pm | implementation-readiness.yaml | Implementation Readiness |
| CC | bmad-sm | course-correction.yaml | Course Correction |

**Total: 30 workflow YAML files needed**

## Approach

1. **Read TEMPLATE.md** to understand the required workflow structure
2. **Read a few skill files** (bmad-pm.md, bmad-dev.md) to understand workflow requirements
3. **Create workflow generator script** to generate all 30 workflows from template
4. **Validate generated workflows** against routes.yaml
5. **Test workflow loading** using existing infrastructure

## Risk Level

**MEDIUM** - Creating many files that integrate with existing system

**Mitigation:**
- Use TEMPLATE.md as the source of truth for structure
- Generate from template to ensure consistency
- Validate against routes.yaml definitions
- Test incrementally (few workflows first, then all)

## Rollback Strategy

If workflows cause issues:
1. Delete generated YAML files from `workflows/`
2. Keep existing .md files (TEMPLATE.md, README.md, etc.)
3. Git revert the commit
4. System returns to current state (no workflows defined)

## Files to Modify

- `~/.blackbox5/2-engine/.autonomous/workflows/` - Create 30 new YAML files
- Possibly: `~/.blackbox5/2-engine/.autonomous/lib/workflow_loader.py` - If it needs updates

## Completion

**Completed:** 2026-01-31T02:10:00Z
**Run Folder:** /Users/shaansisodia/.blackbox5/5-project-memory/ralf-core/.autonomous/runs/run-1769799687
**Agent:** Agent-2.3
**Path Used:** quick
**Phase Gates:** All passed

### Files Created

1. **Schema:** `~/.blackbox5/2-engine/.autonomous/schemas/workflow.schema.yaml`
2. **Generator:** `~/.blackbox5/2-engine/.autonomous/lib/generate_workflows.py`
3. **Workflows:** 30 YAML files in `~/.blackbox5/2-engine/.autonomous/workflows/`

### Validation Results

- All 30 workflows created
- All commands match routes.yaml
- A/P/C menu configuration included
- WIP tracking settings defined
- Agent names extracted from skill files
